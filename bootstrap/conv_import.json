{"t":"KMGR_STATE_V1","v":"1.0","paths":{"root":"K:\\GOOSE\\KMGR","packs":"K:\\GOOSE\\KMGR\\packs","scratch":"K:\\GOOSE\\KMGR\\scratch","bootstrap_path_default":"K:\\GOOSE\\KMGR\\bootstrap\\kmgr_bootstrap.txt"},"env":{"KMGR_ROOT":"K:\\GOOSE\\KMGR","LMSTUDIO_BASE":"http://100.113.91.76:1234","LMSTUDIO_MODEL":"qwen2.5-0.5b-instruct","LMSTUDIO_API_KEY":"lm-studio"},"impl":{"server":"K:\\GOOSE\\KMGR\\server.py","registry":"K:\\GOOSE\\KMGR\\repos.json","pack_schema":"KPKG-1","pack_parts":{"meta":"meta.json","index":"repo_index.csv","blob":"repo_content.bin","chat":"chat.jsonl"},"chat_dedup":"sha1(content)","export_default_max_bytes":120000,"read_chunk_max":65536,"volume_enforce":"same_drive_as_K"},"tools_core":["kmgr_ping_test","kmgr_bootstrap_prompt","kmgr_set_repo_alias","kmgr_build_pack","kmgr_append_chat","kmgr_export_context","kmgr_read_file_chunk"],"tools_llm":["kmgr_llm_status","kmgr_llm_chat","kmgr_llm_batch","kmgr_llm_summarize_context","kmgr_llm_bootstrap"],"protocol":{"caps":{"paste_chars_max":2000,"input_threshold_chars":5000,"output_tokens_max":1000},"flow":["build_pack(repo)","append_chat(user,assistant, dedup=true)","retrieve: export_context(query,max_bytes) OR read_file_chunk(path,offset,bytes<=65536)"],"error_policy":"one_recovery_then_stop","lines":{"success":"Success:<short>.Next:<plan>","fail":"Fail:<err>.Recover:<action>"}},"bootstrap":{"name":"KMGR Protocol — STRICT","source":"_BOOTSTRAP string in server.py or file override via KMGR_BOOTSTRAP_PATH","ack_text":"ACK: KMGR rules loaded","boot_tool":"kmgr_llm_bootstrap"},"lmstudio":{"base":"http://100.113.91.76:1234","model_default":"qwen2.5-0.5b-instruct","endpoints":"OpenAI-compatible /v1/chat/completions","parallel_batch_cap":16,"timeout_s_default":60},"wrappers":{"cmd":"K:\\GOOSE\\KMGR\\kmgr_wrapper.cmd","boot_log":"K:\\GOOSE\\KMGR\\scratch\\kmgr_boot.txt","err_log":"K:\\GOOSE\\KMGR\\scratch\\kmgr_err.log"},"known_errors":[{"sig":"BaseModel.__init__ ... given 3","cause":"positional/params mismatch","fix":"use typed tools or pass {\"params\":{...}} only to legacy names"},{"sig":"Tool not found","cause":"extension not loaded or crashed","fix":"disable→enable extension; check err_log"},{"sig":"Export produced empty context","fix":"broaden query or raise max_bytes; rebuild pack"},{"sig":"Pack exceeds MaxPackMB","fix":"raise max_pack_mb or adjust include/exclude"}],"canon_tests":[{"tool":"kmgr_set_repo_alias","args":{"alias":"kmgr_demo","path":"K:\\Repos\\KMGR_Demo","is_default":true}},{"tool":"kmgr_build_pack","args":{"repo":"kmgr_demo","max_pack_mb":2048}},{"tool":"kmgr_append_chat","args":{"role":"user","content":"hello world from demo","repo":"kmgr_demo","dedup":true}},{"tool":"kmgr_export_context","args":{"query":"hello OR greet","repo":"kmgr_demo","max_bytes":120000}},{"tool":"kmgr_llm_bootstrap","args":{"model":"qwen2.5-0.5b-instruct","url_base":"http://100.113.91.76:1234"}},{"tool":"kmgr_llm_summarize_context","args":{"query":"readme OR setup OR entrypoint OR requirements OR package.json","repo":"kmgr_demo","max_bytes":120000,"model":"qwen2.5-0.5b-instruct","url_base":"http://100.113.91.76:1234","parallelism":4,"max_tokens":300}}],"repo_policies":{"include_globs":["*.md","*.txt","*.rst","*.py","*.ps1","*.psm1","*.cs","*.cpp","*.h","*.js","*.ts","*.tsx","*.json","*.yaml","*.yml","*.ini","*.toml","*.cfg","*.sql","*.sh","*.bat"],"exclude_dirs":[".git",".venv","node_modules","dist","build",".idea",".vscode",".vs","__pycache__"]},"import_how":{"as_system_chat":"kmgr_append_chat(role='system', content=this_blob, repo='<alias>', dedup=true)","as_file_and_query":"write to K:\\GOOSE\\KMGR\\bootstrap\\conv_import.json then kmgr_build_pack(repo='<alias>'); kmgr_export_context(query='KMGR_STATE_V1', repo='<alias>')"}}
